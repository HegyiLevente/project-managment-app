<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Projects</title>
    
</head>
  
<body style="background-color: #ededed;">
  
  	<nav th:replace = "layouts :: navbar"></nav>

	<div class = "container pt-3">  
		<h4>Projects</h4>
	  	<hr>
	  	<a class="btn btn-primary" role="button" th:href="@{/projects/new}">
			Create New Project
		</a><br><br>
		
	  	<table class="table table-striped table-bordered table-hover" style="border: solid 2px #ddd;">
	 		<thead class="thead-light">
	  			<tr>
	  				<th>Name</th>
	  				<th>Stage</th>
	  				<th>Description</th>
	  				<th>Assigned Employees</th>
	  				<th>Action</th>
	  			</tr>
	  		</thead>
	  		<tbody>
	  			<tr th:each="project : ${projectList}">
	  				<td th:text="${project.name}"></td>
	  				<td th:text="${project.stage}"></td>
	  				<td style="width:40%" th:text="${project.description}"></td>
	  				<td>
	  					<select class="form-control">
	  						<option th:each="employee : ${project.getEmployeesList()}"
	  								th:text="${employee.firstName + ' ' + employee.lastName}" />
	  					</select>
	  				</td>
	  				<td>
	  					<a th:href="@{/projects/update(id=${project.projectId})}"
	  					   class="btn btn-info btn-sm">
	  						Update
	  					</a>
	  					
	  					<a th:href="@{/projects/delete(id=${project.projectId})}"
	  					   class="btn btn-danger btn-sm"
	  					   onClick="if(!(confirm('Are you sure you want to delete this project?'))) return false">
	  						Delete
	  					</a>
	  				</td>
	  			</tr>
	  		</tbody>
		</table>
		
	</div>
  
</body>
  
</html>









